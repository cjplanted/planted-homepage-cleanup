# Admin Dashboard 2.0 - Comprehensive Implementation Plan

## Executive Summary

This plan addresses the critical reliability issues with the current admin dashboard and creates a **workflow-focused, production-ready Admin Dashboard 2.0** with emphasis on:

1. **Workflow First**: Scraping â†’ Extraction â†’ Review â†’ Approval â†’ Website Sync
2. **Reinforcement Learning**: AI feedback loop that improves with every approval/rejection
3. **Extreme Stability**: Error boundaries, retries, optimistic updates, offline support
4. **Real-time Operations**: Live status updates, progress tracking, cost monitoring
5. **Browsable Data**: Hierarchical browser with live/pending status visibility

---

## Part 1: Architecture Overview

### 1.1 Technology Stack

| Layer | Current | New (2.0) | Rationale |
|-------|---------|-----------|-----------|
| UI Framework | Custom CSS | **Shadcn/UI + Tailwind** | Consistent, accessible components |
| State Management | React Query only | **React Query + Zustand** | Local state for UI, server state for data |
| Error Handling | None | **Error Boundaries + Sentry** | Crash recovery, monitoring |
| Data Tables | Custom | **TanStack Table v8** | Virtual scrolling, pagination |
| Forms | Manual | **React Hook Form + Zod** | Validation, error handling |
| Real-time | Polling | **Firebase Realtime + SSE** | Live updates without polling overhead |
| Testing | None | **Vitest + Playwright** | Unit + E2E coverage |
| Build | Vite | **Vite (keep)** | Fast, modern |

### 1.2 Application Structure

```
packages/admin-dashboard-v2/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                    # App entry, providers, routing
â”‚   â”‚   â”œâ”€â”€ App.tsx
â”‚   â”‚   â”œâ”€â”€ providers/
â”‚   â”‚   â”‚   â”œâ”€â”€ QueryProvider.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ AuthProvider.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ErrorBoundaryProvider.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ToastProvider.tsx
â”‚   â”‚   â””â”€â”€ routes/
â”‚   â”‚       â””â”€â”€ router.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ pages/                  # Page components (thin, compose features)
â”‚   â”‚   â”œâ”€â”€ workflow/
â”‚   â”‚   â”‚   â”œâ”€â”€ WorkflowDashboard.tsx    # Main entry
â”‚   â”‚   â”‚   â”œâ”€â”€ ScrapeControlPage.tsx     # Trigger scraping
â”‚   â”‚   â”‚   â”œâ”€â”€ ReviewQueuePage.tsx       # Review workflow
â”‚   â”‚   â”‚   â””â”€â”€ SyncToWebsitePage.tsx     # Push to production
â”‚   â”‚   â”œâ”€â”€ browser/
â”‚   â”‚   â”‚   â”œâ”€â”€ VenueBrowserPage.tsx      # Browse all data
â”‚   â”‚   â”‚   â”œâ”€â”€ LiveWebsitePage.tsx       # What's on website
â”‚   â”‚   â”‚   â””â”€â”€ PendingDataPage.tsx       # Awaiting review
â”‚   â”‚   â”œâ”€â”€ operations/
â”‚   â”‚   â”‚   â”œâ”€â”€ ScraperStatusPage.tsx     # Scraper health
â”‚   â”‚   â”‚   â”œâ”€â”€ CostMonitorPage.tsx       # API costs, budget
â”‚   â”‚   â”‚   â””â”€â”€ SystemHealthPage.tsx      # Overall health
â”‚   â”‚   â””â”€â”€ settings/
â”‚   â”‚       â””â”€â”€ SettingsPage.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ features/               # Feature modules (self-contained)
â”‚   â”‚   â”œâ”€â”€ scraping/
â”‚   â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ScraperCard.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ScraperProgress.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ScraperLogs.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useScrapers.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ useScraperRun.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ scraperApi.ts
â”‚   â”‚   â”‚   â””â”€â”€ types.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ review/
â”‚   â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ReviewCard.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ VenueDetailPanel.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ DishGrid.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ApprovalButtons.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ FeedbackForm.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ BulkActionsBar.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useReviewQueue.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useApproval.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ useFeedback.ts
â”‚   â”‚   â”‚   â””â”€â”€ api/
â”‚   â”‚   â”‚       â””â”€â”€ reviewApi.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ browser/
â”‚   â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ HierarchyTree.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ VenueTable.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ DishTable.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ FilterBar.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useVenueBrowser.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ useFilters.ts
â”‚   â”‚   â”‚   â””â”€â”€ api/
â”‚   â”‚   â”‚       â””â”€â”€ browserApi.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ sync/
â”‚   â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ SyncPreview.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ SyncDiff.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ SyncProgress.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ useSync.ts
â”‚   â”‚   â”‚   â””â”€â”€ api/
â”‚   â”‚   â”‚       â””â”€â”€ syncApi.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ analytics/
â”‚   â”‚       â”œâ”€â”€ components/
â”‚   â”‚       â”‚   â”œâ”€â”€ KPICards.tsx
â”‚   â”‚       â”‚   â”œâ”€â”€ CostChart.tsx
â”‚   â”‚       â”‚   â””â”€â”€ AccuracyChart.tsx
â”‚   â”‚       â””â”€â”€ hooks/
â”‚   â”‚           â””â”€â”€ useAnalytics.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ shared/                 # Shared components
â”‚   â”‚   â”œâ”€â”€ ui/                 # Shadcn/UI components
â”‚   â”‚   â”‚   â”œâ”€â”€ Button.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Card.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Dialog.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Table.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ Layout/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ MainLayout.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ErrorBoundary.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ LoadingState.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ EmptyState.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ConfidenceBadge.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ StatusBadge.tsx
â”‚   â”‚   â”‚   â””â”€â”€ PlatformIcon.tsx
â”‚   â”‚   â””â”€â”€ hooks/
â”‚   â”‚       â”œâ”€â”€ useAuth.ts
â”‚   â”‚       â”œâ”€â”€ useToast.ts
â”‚   â”‚       â””â”€â”€ useKeyboardShortcuts.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ lib/                    # Utilities
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â”œâ”€â”€ client.ts       # Base fetch client with retries
â”‚   â”‚   â”‚   â””â”€â”€ endpoints.ts    # API endpoint definitions
â”‚   â”‚   â”œâ”€â”€ firebase.ts
â”‚   â”‚   â””â”€â”€ utils.ts
â”‚   â”‚
â”‚   â””â”€â”€ types/                  # Global types
â”‚       â””â”€â”€ index.ts
â”‚
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ unit/
â”‚   â””â”€â”€ e2e/
â”‚
â””â”€â”€ package.json
```

### 1.3 Core Design Principles

1. **Feature-First Organization**: Each feature is self-contained with its own components, hooks, and API calls
2. **Thin Pages**: Pages only compose features, no business logic
3. **Optimistic Updates**: UI updates immediately, rolls back on error
4. **Error Recovery**: Every operation can retry, every error shows recovery options
5. **Offline Awareness**: Show connection status, queue operations when offline
6. **Type Safety**: End-to-end TypeScript with Zod validation

---

## Part 2: Workflow Pages Design

### 2.1 Workflow Dashboard (Main Entry)

**Purpose**: At-a-glance view of the entire workflow pipeline

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  WORKFLOW DASHBOARD                                    [Refresh] [âš™ï¸] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   SCRAPING   â”‚â†’ â”‚  EXTRACTION  â”‚â†’ â”‚   REVIEW     â”‚â†’ â”‚ WEBSITE  â”‚ â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚  â”‚          â”‚ â”‚
â”‚  â”‚  ğŸŸ¢ Running  â”‚  â”‚  â¸ï¸ Queued    â”‚  â”‚  ğŸ“‹ 47 items â”‚  â”‚ âœ… Synced â”‚ â”‚
â”‚  â”‚  3 scrapers  â”‚  â”‚  12 venues   â”‚  â”‚  pending     â”‚  â”‚ 234 live â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ QUICK ACTIONS                                                   â”‚ â”‚
â”‚  â”‚ [â–¶ï¸ Run Discovery: CH] [â–¶ï¸ Run Discovery: DE] [â–¶ï¸ Extract Dishes] â”‚ â”‚
â”‚  â”‚ [ğŸ“‹ Review Queue (47)] [ğŸ”„ Sync to Website]                      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ TODAY'S STATS              â”‚  â”‚ RUNNING OPERATIONS              â”‚ â”‚
â”‚  â”‚ â€¢ Discovered: 23           â”‚  â”‚ â€¢ discovery-ch: 45% (12/26)    â”‚ â”‚
â”‚  â”‚ â€¢ Approved: 18             â”‚  â”‚ â€¢ dish-extract: 78% (39/50)    â”‚ â”‚
â”‚  â”‚ â€¢ Rejected: 5              â”‚  â”‚                                â”‚ â”‚
â”‚  â”‚ â€¢ Pushed Live: 12          â”‚  â”‚ [View Logs] [Cancel]           â”‚ â”‚
â”‚  â”‚ â€¢ API Costs: $2.34         â”‚  â”‚                                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ RECENT ACTIVITY                                                 â”‚ â”‚
â”‚  â”‚ â€¢ 2 min ago: Scraper "uber-eats-ch" completed (5 new venues)   â”‚ â”‚
â”‚  â”‚ â€¢ 15 min ago: 3 venues promoted to website                      â”‚ â”‚
â”‚  â”‚ â€¢ 1 hour ago: Discovery run started for DE                      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Data Sources**:
- `GET /admin/stats/workflow` - New endpoint for workflow metrics
- `GET /admin/scrapers/running` - Currently running scrapers
- Firebase Realtime listener for live operation updates

---

### 2.2 Scrape Control Page

**Purpose**: Trigger and monitor venue discovery and dish extraction

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SCRAPING CONTROL                                      [History] [âš™ï¸]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ VENUE DISCOVERY                                                  â”‚ â”‚
â”‚  â”‚                                                                  â”‚ â”‚
â”‚  â”‚ Country: [CH â–¼] [DE â–¼] [AT â–¼]     Platforms: [All â–¼]           â”‚ â”‚
â”‚  â”‚ Mode: (â—) Explore  ( ) Enumerate Chain  ( ) Verify Existing    â”‚ â”‚
â”‚  â”‚ Chain (if enumerate): [dean&david____________]                  â”‚ â”‚
â”‚  â”‚ Max Queries: [50____]   Dry Run: [ ]                           â”‚ â”‚
â”‚  â”‚                                                                  â”‚ â”‚
â”‚  â”‚ [â–¶ï¸ Start Discovery]                                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ DISH EXTRACTION                                                  â”‚ â”‚
â”‚  â”‚                                                                  â”‚ â”‚
â”‚  â”‚ Target: (â—) All Pending Venues  ( ) Specific Chain  ( ) Venue IDâ”‚ â”‚
â”‚  â”‚ Chain/Venue: [________________________]                         â”‚ â”‚
â”‚  â”‚ Max Venues: [50____]   Mode: [Enrich â–¼]                        â”‚ â”‚
â”‚  â”‚                                                                  â”‚ â”‚
â”‚  â”‚ [â–¶ï¸ Start Extraction]                                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ RUNNING OPERATIONS                                 [Cancel All] â”‚ â”‚
â”‚  â”‚                                                                  â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚ â”‚ ğŸ” discovery-ch-explore                        [Cancel] [ğŸ“‹] â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ Progress: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 65% (32/50 queries)          â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ Found: 8 venues | Estimated cost: $1.20 | ETA: 3 min        â”‚ â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                                                                  â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚ â”‚ ğŸ½ï¸ dish-extraction-dean-david                  [Cancel] [ğŸ“‹] â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ Progress: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 90% (45/50 venues)           â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ Extracted: 127 dishes | Estimated cost: $0.85 | ETA: 1 min  â”‚ â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ BUDGET STATUS                                                    â”‚ â”‚
â”‚  â”‚ Search Queries: 234/600 free today | Paid used: $0.50          â”‚ â”‚
â”‚  â”‚ AI Calls: 156 today | Cost: $1.85                               â”‚ â”‚
â”‚  â”‚ Total Today: $2.35 / $50 daily limit                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**New Backend Endpoints Required**:
```typescript
// Trigger discovery with real-time progress
POST /admin/scrapers/discovery/start
Body: { countries: string[], platforms: string[], mode: string, maxQueries: number }
Returns: { runId: string, statusUrl: string }

// Trigger dish extraction with real-time progress
POST /admin/scrapers/extraction/start
Body: { target: 'all'|'chain'|'venue', chainId?: string, venueId?: string, maxVenues: number }
Returns: { runId: string, statusUrl: string }

// Get real-time status (Server-Sent Events)
GET /admin/scrapers/runs/:runId/stream
Returns: SSE stream with progress updates

// Cancel running operation
POST /admin/scrapers/runs/:runId/cancel

// Get budget status
GET /admin/budget/status
Returns: { searchQueries: { used, free, paid }, aiCalls: { count, cost }, total: { today, limit } }
```

---

### 2.3 Review Queue Page (Core Workflow)

**Purpose**: The main approval workflow - approve, partial approve, or reject venues and dishes

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  REVIEW QUEUE                              [Bulk Actions] [Filters â–¼] [âš™ï¸]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Filters: Country [All â–¼] Status [Pending â–¼] Confidence [All â–¼] [Search...]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ QUEUE (47 items)               â”‚ VENUE DETAILS                        â”‚â”‚
â”‚  â”‚                                â”‚                                      â”‚â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚
â”‚  â”‚ â”‚ [x] ğŸ‡¨ğŸ‡­ Switzerland (12)    â”‚ â”‚ â”‚ DEAN & DAVID - ZÃœRICH HB         â”‚â”‚â”‚
â”‚  â”‚ â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚                                  â”‚â”‚â”‚
â”‚  â”‚ â”‚   â”‚ ğŸ½ï¸ Restaurant (8)      â”‚ â”‚ â”‚ Chain: Dean & David               â”‚â”‚â”‚
â”‚  â”‚ â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚ â”‚ Country: ğŸ‡¨ğŸ‡­ Switzerland           â”‚â”‚â”‚
â”‚  â”‚ â”‚   â”‚   â”‚ Dean & David (4) â”‚â”‚ â”‚ â”‚ Address: Bahnhofplatz 15, 8001    â”‚â”‚â”‚
â”‚  â”‚ â”‚   â”‚   â”‚  â†’ ZÃ¼rich HB âœ¨  â”‚â”‚ â”‚ â”‚ City: ZÃ¼rich                       â”‚â”‚â”‚
â”‚  â”‚ â”‚   â”‚   â”‚  â†’ Basel SBB     â”‚â”‚ â”‚ â”‚                                  â”‚â”‚â”‚
â”‚  â”‚ â”‚   â”‚   â”‚  â†’ Bern          â”‚â”‚ â”‚ â”‚ ğŸ“ Delivery Platforms:            â”‚â”‚â”‚
â”‚  â”‚ â”‚   â”‚   â”‚  â†’ Winterthur    â”‚â”‚ â”‚ â”‚ â€¢ Uber Eats [View] [Copy Link]    â”‚â”‚â”‚
â”‚  â”‚ â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚ â”‚ â€¢ Wolt [View] [Copy Link]         â”‚â”‚â”‚
â”‚  â”‚ â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚ â”‚                                  â”‚â”‚â”‚
â”‚  â”‚ â”‚   â”‚   â”‚ Hiltl (2)        â”‚â”‚ â”‚ â”‚ Confidence: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 82%        â”‚â”‚â”‚
â”‚  â”‚ â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚ â”‚ Factors:                          â”‚â”‚â”‚
â”‚  â”‚ â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â€¢ Chain match: +30               â”‚â”‚â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â€¢ URL valid: +25                  â”‚â”‚â”‚
â”‚  â”‚                                â”‚ â”‚ â€¢ Menu found: +27                  â”‚â”‚â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚
â”‚  â”‚ â”‚ [ ] ğŸ‡©ğŸ‡ª Germany (23)        â”‚ â”‚                                      â”‚â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚
â”‚  â”‚                                â”‚ â”‚ DISHES (5 found)                   â”‚â”‚â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚                                  â”‚â”‚â”‚
â”‚  â”‚ â”‚ [ ] ğŸ‡¦ğŸ‡¹ Austria (12)        â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚â”‚â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ [Image]    â”‚ Planted Chicken â”‚ â”‚â”‚â”‚
â”‚  â”‚                                â”‚ â”‚ â”‚            â”‚ Bowl            â”‚ â”‚â”‚â”‚
â”‚  â”‚                                â”‚ â”‚ â”‚            â”‚ CHF 18.90       â”‚ â”‚â”‚â”‚
â”‚  â”‚                                â”‚ â”‚ â”‚            â”‚ Conf: 95% â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚ â”‚â”‚â”‚
â”‚  â”‚                                â”‚ â”‚ â”‚            â”‚ [âœ“] [âœ—] [Edit]  â”‚ â”‚â”‚â”‚
â”‚  â”‚                                â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â”‚â”‚
â”‚  â”‚                                â”‚ â”‚                                  â”‚â”‚â”‚
â”‚  â”‚                                â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚â”‚â”‚
â”‚  â”‚                                â”‚ â”‚ â”‚ [Image]    â”‚ Planted Kebab  â”‚ â”‚â”‚â”‚
â”‚  â”‚                                â”‚ â”‚ â”‚            â”‚ Wrap           â”‚ â”‚â”‚â”‚
â”‚  â”‚                                â”‚ â”‚ â”‚            â”‚ CHF 15.50       â”‚ â”‚â”‚â”‚
â”‚  â”‚                                â”‚ â”‚ â”‚            â”‚ Conf: 88% â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â”‚ â”‚â”‚â”‚
â”‚  â”‚                                â”‚ â”‚ â”‚            â”‚ [âœ“] [âœ—] [Edit]  â”‚ â”‚â”‚â”‚
â”‚  â”‚                                â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â”‚â”‚
â”‚  â”‚                                â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ APPROVAL ACTIONS                                                      â”‚â”‚
â”‚  â”‚                                                                       â”‚â”‚
â”‚  â”‚ [âœ… Approve All]  [âš ï¸ Partial Approve]  [âŒ Reject]                    â”‚â”‚
â”‚  â”‚                                                                       â”‚â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚â”‚
â”‚  â”‚ â”‚ Feedback for AI (optional - helps improve future accuracy):      â”‚ â”‚â”‚
â”‚  â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚â”‚
â”‚  â”‚ â”‚ â”‚ "The chicken bowl price should be 19.90, not 18.90.         â”‚ â”‚ â”‚â”‚
â”‚  â”‚ â”‚ â”‚  Also missing the Planted Schnitzel dish."                  â”‚ â”‚ â”‚â”‚
â”‚  â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚â”‚
â”‚  â”‚ â”‚                                                                  â”‚ â”‚â”‚
â”‚  â”‚ â”‚ Quick Tags: [Wrong Price] [Missing Dish] [Wrong Product] [Other]â”‚ â”‚â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                          â”‚
â”‚  Keyboard: [j/k] Navigate | [a] Approve | [r] Reject | [e] Edit | [?] Helpâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Approval Workflow States**:

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ DISCOVERED  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚               â”‚               â”‚
           â–¼               â–¼               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  APPROVED   â”‚ â”‚  PARTIAL    â”‚ â”‚  REJECTED   â”‚
    â”‚  (Verified) â”‚ â”‚  APPROVE    â”‚ â”‚             â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
           â”‚               â”‚               â”‚
           â”‚               â”‚               â–¼
           â”‚               â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚               â”‚        â”‚ AI FEEDBACK â”‚
           â”‚               â”‚        â”‚  (Learning) â”‚
           â”‚               â–¼        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚        â”‚ NEEDS EDIT  â”‚
           â”‚        â”‚ (With your  â”‚
           â”‚        â”‚  feedback)  â”‚
           â”‚        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
           â”‚               â”‚
           â”‚      (After you edit)
           â”‚               â”‚
           â”‚               â–¼
           â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚        â”‚  VERIFIED   â”‚
           â”‚        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
           â”‚               â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                           â”‚
                           â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   READY     â”‚
                    â”‚  FOR SYNC   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                    (Sync to Website)
                           â”‚
                           â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚    LIVE     â”‚
                    â”‚ ON WEBSITE  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**New Backend Endpoints Required**:
```typescript
// Get review queue with hierarchical structure
GET /admin/review/queue
Params: { country?, status?, minConfidence?, search?, page?, limit? }
Returns: {
  items: ReviewItem[],
  hierarchy: { countries: CountryGroup[] },
  stats: { pending, verified, rejected, byCountry }
}

// Approve venue (full approval)
POST /admin/review/venues/:id/approve
Body: { dishApprovals?: { dishId: string, approved: boolean }[] }
Returns: { success: true, venueId: string }

// Partial approve with feedback
POST /admin/review/venues/:id/partial-approve
Body: {
  feedback: string,
  feedbackTags: string[],  // ['wrong_price', 'missing_dish', etc.]
  dishUpdates?: { dishId: string, updates: Partial<Dish>, approved: boolean }[]
}
Returns: { success: true, venueId: string, feedbackRecorded: true }

// Reject venue
POST /admin/review/venues/:id/reject
Body: { reason: string, feedbackTags?: string[] }
Returns: { success: true, feedbackRecorded: true }

// Submit AI feedback (triggers reinforcement learning)
POST /admin/feedback/submit
Body: {
  entityType: 'venue' | 'dish',
  entityId: string,
  feedbackType: 'approve' | 'partial' | 'reject',
  feedback?: string,
  tags?: string[],
  corrections?: object  // What was wrong and correct values
}
Returns: { feedbackId: string, learningTriggered: boolean }

// Bulk operations
POST /admin/review/bulk/approve
Body: { venueIds: string[] }

POST /admin/review/bulk/reject
Body: { venueIds: string[], reason: string }
```

**Reinforcement Learning Integration**:
```typescript
// When feedback is submitted, the system:
// 1. Records feedback in feedback collection
// 2. Updates strategy success rates
// 3. Recalculates confidence factors
// 4. Triggers strategy evolution if patterns detected

POST /admin/feedback/submit triggers:
  - Update search-feedback or dish-feedback collection
  - Update discovery-strategies success_rate
  - If rejection: analyze reason, update strategy weights
  - If partial: identify error patterns, adjust AI prompts
  - Queue background job to recalculate similar venue confidences
```

---

### 2.4 Sync to Website Page

**Purpose**: Push approved venues/dishes to production website

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SYNC TO WEBSITE                                      [History] [âš™ï¸] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ SYNC STATUS                                                      â”‚ â”‚
â”‚  â”‚                                                                  â”‚ â”‚
â”‚  â”‚ Ready to Sync: 23 venues, 89 dishes                             â”‚ â”‚
â”‚  â”‚ Last Sync: 2 hours ago (pushed 12 venues, 45 dishes)            â”‚ â”‚
â”‚  â”‚ Website Status: ğŸŸ¢ Online (234 venues, 892 dishes live)         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ PENDING CHANGES                              [Select All] [None] â”‚ â”‚
â”‚  â”‚                                                                  â”‚ â”‚
â”‚  â”‚ Filter: [All â–¼] [Venues â–¼] [Dishes â–¼]        Search: [________] â”‚ â”‚
â”‚  â”‚                                                                  â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚ â”‚ ADDITIONS (18)                                              â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ [x] Dean & David - ZÃ¼rich HB (+ 4 dishes)        [Preview] â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ [x] Dean & David - Basel SBB (+ 3 dishes)        [Preview] â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ [x] Hiltl - Sihlstrasse (+ 6 dishes)             [Preview] â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ [ ] KaiMug - Europaallee (+ 2 dishes)            [Preview] â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ ...                                                         â”‚ â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                                                                  â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚ â”‚ UPDATES (5)                                                 â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ [x] Pizza Pasta - Price update (CHF 18.50 â†’ 19.90)         â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ [x] Hiltl Main - New dish added                            â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ ...                                                         â”‚ â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                                                                  â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚ â”‚ REMOVALS (0)                                                â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ (No venues/dishes marked for removal)                       â”‚ â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ [ğŸ”„ Sync Selected (23 items)]     [Preview Changes]             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**New Backend Endpoints**:
```typescript
// Get sync preview with diff
GET /admin/sync/preview
Returns: {
  additions: { venues: Venue[], dishes: Dish[] },
  updates: { venues: VenueUpdate[], dishes: DishUpdate[] },
  removals: { venues: Venue[], dishes: Dish[] },
  stats: { totalChanges, additionCount, updateCount, removalCount }
}

// Execute sync with selected items
POST /admin/sync/execute
Body: {
  venueIds: string[],
  dishIds: string[],
  skipRemovals?: boolean
}
Returns: {
  success: boolean,
  synced: { venues: number, dishes: number },
  errors?: { venueId: string, error: string }[]
}

// Get sync history
GET /admin/sync/history
Params: { page?, limit? }
Returns: {
  syncs: SyncRecord[],
  stats: { totalSyncs, lastSync, averageItemsPerSync }
}
```

---

### 2.5 Venue Browser Page

**Purpose**: Browse all data - live, pending, and historical

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  VENUE BROWSER                                          [Export] [âš™ï¸]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ View: [ğŸŸ¢ Live] [ğŸ“‹ Pending] [âŒ Rejected] [All]    Search: [_________] â”‚
â”‚ Filters: Country [All â–¼] Chain [All â–¼] Platform [All â–¼]                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ HIERARCHY                      â”‚ DETAILS                              â”‚â”‚
â”‚  â”‚                                â”‚                                      â”‚â”‚
â”‚  â”‚ â–¼ ğŸ‡¨ğŸ‡­ Switzerland (89)          â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚
â”‚  â”‚   â–¼ ğŸ½ï¸ Restaurant (67)          â”‚ â”‚         DEAN & DAVID             â”‚â”‚â”‚
â”‚  â”‚     â–¼ Dean & David (12)        â”‚ â”‚         ZÃ¼rich HB                 â”‚â”‚â”‚
â”‚  â”‚       â€¢ ZÃ¼rich HB ğŸŸ¢           â”‚ â”‚                                  â”‚â”‚â”‚
â”‚  â”‚       â€¢ Basel SBB ğŸŸ¢           â”‚ â”‚ Status: ğŸŸ¢ LIVE                   â”‚â”‚â”‚
â”‚  â”‚       â€¢ Bern ğŸ“‹                â”‚ â”‚ Chain: Dean & David               â”‚â”‚â”‚
â”‚  â”‚       â€¢ Geneva ğŸŸ¢              â”‚ â”‚ Country: Switzerland              â”‚â”‚â”‚
â”‚  â”‚     â–¶ Hiltl (4)                â”‚ â”‚ Address: Bahnhofplatz 15          â”‚â”‚â”‚
â”‚  â”‚     â–¶ tibits (3)               â”‚ â”‚ City: ZÃ¼rich, 8001                â”‚â”‚â”‚
â”‚  â”‚   â–¶ ğŸ›’ Retail (22)             â”‚ â”‚                                  â”‚â”‚â”‚
â”‚  â”‚ â–¶ ğŸ‡©ğŸ‡ª Germany (145)             â”‚ â”‚ Coordinates: 47.3781, 8.5400     â”‚â”‚â”‚
â”‚  â”‚ â–¶ ğŸ‡¦ğŸ‡¹ Austria (34)              â”‚ â”‚ [ğŸ“ View on Map]                  â”‚â”‚â”‚
â”‚  â”‚                                â”‚ â”‚                                  â”‚â”‚â”‚
â”‚  â”‚                                â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”‚â”‚
â”‚  â”‚                                â”‚ â”‚                                  â”‚â”‚â”‚
â”‚  â”‚                                â”‚ â”‚ DELIVERY PLATFORMS                â”‚â”‚â”‚
â”‚  â”‚                                â”‚ â”‚ â€¢ Uber Eats: Active âœ“            â”‚â”‚â”‚
â”‚  â”‚                                â”‚ â”‚   [Open Link] [Copy]             â”‚â”‚â”‚
â”‚  â”‚                                â”‚ â”‚ â€¢ Wolt: Active âœ“                 â”‚â”‚â”‚
â”‚  â”‚                                â”‚ â”‚   [Open Link] [Copy]             â”‚â”‚â”‚
â”‚  â”‚                                â”‚ â”‚                                  â”‚â”‚â”‚
â”‚  â”‚                                â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”‚â”‚
â”‚  â”‚                                â”‚ â”‚                                  â”‚â”‚â”‚
â”‚  â”‚                                â”‚ â”‚ DISHES (5)                        â”‚â”‚â”‚
â”‚  â”‚                                â”‚ â”‚                                  â”‚â”‚â”‚
â”‚  â”‚                                â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚
â”‚  â”‚                                â”‚ â”‚ â”‚[Img]â”‚Planted Chicken  â”‚CHF18.9â”‚â”‚â”‚â”‚
â”‚  â”‚                                â”‚ â”‚ â”‚     â”‚Bowl             â”‚       â”‚â”‚â”‚â”‚
â”‚  â”‚                                â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤â”‚â”‚â”‚
â”‚  â”‚                                â”‚ â”‚ â”‚[Img]â”‚Planted Kebab    â”‚CHF15.5â”‚â”‚â”‚â”‚
â”‚  â”‚                                â”‚ â”‚ â”‚     â”‚Wrap             â”‚       â”‚â”‚â”‚â”‚
â”‚  â”‚                                â”‚ â”‚ â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”‚
â”‚  â”‚                                â”‚ â”‚                                  â”‚â”‚â”‚
â”‚  â”‚                                â”‚ â”‚ [Edit Venue] [View History]      â”‚â”‚â”‚
â”‚  â”‚                                â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                          â”‚
â”‚  Stats: 268 total venues | 234 live | 23 pending | 11 rejected          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Key Features**:
- Status indicators: ğŸŸ¢ Live, ğŸ“‹ Pending, âŒ Rejected
- Virtual scrolling for large datasets (no 2000 item memory load)
- Cursor-based pagination
- Full-text search across venues/dishes
- Export to CSV/JSON

---

### 2.6 KPI & Cost Monitoring Page

**Purpose**: Track performance metrics and costs

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ANALYTICS & COSTS                      Period: [Last 7 days â–¼] [âš™ï¸] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ DISCOVERY RATE   â”‚ â”‚ APPROVAL RATE    â”‚ â”‚ AI ACCURACY      â”‚     â”‚
â”‚  â”‚                  â”‚ â”‚                  â”‚ â”‚                  â”‚     â”‚
â”‚  â”‚   â–² 23/day       â”‚ â”‚   78%            â”‚ â”‚   85%            â”‚     â”‚
â”‚  â”‚   +15% vs prev   â”‚ â”‚   -2% vs prev    â”‚ â”‚   +3% vs prev    â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ TOTAL COST       â”‚ â”‚ COST/VENUE       â”‚ â”‚ LIVE VENUES      â”‚     â”‚
â”‚  â”‚                  â”‚ â”‚                  â”‚ â”‚                  â”‚     â”‚
â”‚  â”‚   $47.23         â”‚ â”‚   $0.42          â”‚ â”‚   268            â”‚     â”‚
â”‚  â”‚   this week      â”‚ â”‚   avg            â”‚ â”‚   +34 this week  â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ COST BREAKDOWN                                                   â”‚ â”‚
â”‚  â”‚                                                                  â”‚ â”‚
â”‚  â”‚   Search API (Google)     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘ $23.50  (50%)      â”‚ â”‚
â”‚  â”‚   AI (Gemini)             â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ $18.20  (38%)      â”‚ â”‚
â”‚  â”‚   Puppeteer/Scraping      â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ $5.53   (12%)      â”‚ â”‚
â”‚  â”‚                                                                  â”‚ â”‚
â”‚  â”‚   Total: $47.23 / $350 monthly budget (13%)                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ DISCOVERY ACCURACY OVER TIME                                     â”‚ â”‚
â”‚  â”‚                                                                  â”‚ â”‚
â”‚  â”‚  100% â”¤                                                          â”‚ â”‚
â”‚  â”‚   90% â”¤          â•­â”€â”€â”€â•®     â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                   â”‚ â”‚
â”‚  â”‚   80% â”¤    â•­â”€â”€â”€â”€â”€â•¯   â•°â”€â”€â”€â”€â”€â•¯                                    â”‚ â”‚
â”‚  â”‚   70% â”¤â”€â”€â”€â”€â•¯                                                     â”‚ â”‚
â”‚  â”‚   60% â”¤                                                          â”‚ â”‚
â”‚  â”‚       â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€                   â”‚ â”‚
â”‚  â”‚        Mon  Tue  Wed  Thu  Fri  Sat  Sun                        â”‚ â”‚
â”‚  â”‚                                                                  â”‚ â”‚
â”‚  â”‚  â”€â”€ Venue Accuracy  â”€â”€ Dish Accuracy  â”€â”€ Approval Rate          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ REJECTION REASONS                                                â”‚ â”‚
â”‚  â”‚                                                                  â”‚ â”‚
â”‚  â”‚   Not actually Planted    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 45%                      â”‚ â”‚
â”‚  â”‚   Wrong price             â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 18%                              â”‚ â”‚
â”‚  â”‚   Duplicate venue         â–ˆâ–ˆâ–ˆâ–ˆ 15%                               â”‚ â”‚
â”‚  â”‚   Missing dishes          â–ˆâ–ˆâ–ˆ 12%                                â”‚ â”‚
â”‚  â”‚   Other                   â–ˆâ–ˆ 10%                                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**New Backend Endpoints**:
```typescript
// Get KPI dashboard data
GET /admin/analytics/kpis
Params: { period: '7d' | '30d' | '90d' | 'custom', startDate?, endDate? }
Returns: {
  discovery: { rate, change, byDay: [] },
  approval: { rate, change, byDay: [] },
  accuracy: { venue: number, dish: number, change },
  costs: { total, byCategory: {}, byDay: [] },
  venues: { total, live, pending, change }
}

// Get cost breakdown
GET /admin/analytics/costs
Params: { period }
Returns: {
  breakdown: { search: number, ai: number, scraping: number },
  budget: { used: number, limit: number, percentage: number },
  projectedMonthly: number
}

// Get rejection analysis
GET /admin/analytics/rejections
Params: { period }
Returns: {
  reasons: { reason: string, count: number, percentage: number }[],
  trends: { date: string, reasons: {} }[]
}
```

---

## Part 3: Backend Changes Required

### 3.1 New API Endpoints Summary

| Category | Endpoint | Method | Purpose |
|----------|----------|--------|---------|
| **Workflow Stats** | `/admin/stats/workflow` | GET | Dashboard metrics |
| **Scraper Control** | `/admin/scrapers/discovery/start` | POST | Trigger discovery |
| | `/admin/scrapers/extraction/start` | POST | Trigger extraction |
| | `/admin/scrapers/runs/:id/stream` | GET (SSE) | Real-time progress |
| | `/admin/scrapers/runs/:id/cancel` | POST | Cancel running job |
| **Review** | `/admin/review/queue` | GET | Hierarchical queue |
| | `/admin/review/venues/:id/approve` | POST | Full approve |
| | `/admin/review/venues/:id/partial-approve` | POST | Partial with feedback |
| | `/admin/review/venues/:id/reject` | POST | Reject with reason |
| | `/admin/review/bulk/approve` | POST | Bulk approve |
| | `/admin/review/bulk/reject` | POST | Bulk reject |
| **Feedback/Learning** | `/admin/feedback/submit` | POST | Submit AI feedback |
| | `/admin/feedback/stats` | GET | Feedback statistics |
| **Sync** | `/admin/sync/preview` | GET | Preview changes |
| | `/admin/sync/execute` | POST | Execute sync |
| | `/admin/sync/history` | GET | Sync history |
| **Analytics** | `/admin/analytics/kpis` | GET | KPI dashboard |
| | `/admin/analytics/costs` | GET | Cost breakdown |
| | `/admin/analytics/rejections` | GET | Rejection analysis |
| **Budget** | `/admin/budget/status` | GET | Budget status |

### 3.2 Reinforcement Learning System

**Feedback Collection Schema**:
```typescript
interface AIFeedback {
  id: string;
  entityType: 'venue' | 'dish' | 'strategy';
  entityId: string;
  feedbackType: 'approve' | 'partial' | 'reject';

  // Human feedback
  feedback?: string;
  tags: string[];  // Structured tags for analysis

  // Corrections (what was wrong)
  corrections?: {
    field: string;
    expected: unknown;
    actual: unknown;
  }[];

  // Context
  strategyId?: string;  // Which strategy found this
  confidence: number;   // Original confidence score

  // Learning outcomes
  learningApplied: boolean;
  strategyUpdated: boolean;
  confidenceRecalculated: boolean;

  // Timestamps
  createdAt: Date;
  processedAt?: Date;
}
```

**Learning Triggers**:
```typescript
// When feedback is submitted:
async function processFeedback(feedback: AIFeedback): Promise<void> {
  // 1. Record feedback
  await feedbackCollection.add(feedback);

  // 2. Update strategy metrics
  if (feedback.strategyId) {
    await updateStrategyMetrics(feedback.strategyId, feedback.feedbackType);
  }

  // 3. Analyze patterns
  const patterns = await analyzeRejectionPatterns(feedback);

  // 4. If pattern detected, adjust strategy weights
  if (patterns.significantPattern) {
    await adjustStrategyWeights(patterns);
  }

  // 5. Recalculate confidence for similar venues
  await recalculateSimilarVenueConfidence(feedback.entityId);

  // 6. If many rejections for same reason, consider strategy deprecation
  if (await shouldDeprecateStrategy(feedback.strategyId)) {
    await deprecateStrategy(feedback.strategyId, feedback.tags[0]);
  }
}
```

### 3.3 Real-Time Progress System

**Server-Sent Events for Scraper Progress**:
```typescript
// packages/api/src/functions/admin/scrapers/stream.ts
export const scraperRunStream = functions.https.onRequest(async (req, res) => {
  const runId = req.params.runId;

  // Set SSE headers
  res.setHeader('Content-Type', 'text/event-stream');
  res.setHeader('Cache-Control', 'no-cache');
  res.setHeader('Connection', 'keep-alive');

  // Listen to Firestore changes
  const unsubscribe = db.collection('scraper-runs').doc(runId)
    .onSnapshot((doc) => {
      const data = doc.data();
      res.write(`data: ${JSON.stringify({
        status: data.status,
        progress: data.progress,
        found: data.found,
        errors: data.errors,
        estimatedCost: data.estimatedCost,
        eta: data.eta
      })}\n\n`);

      if (data.status === 'completed' || data.status === 'failed') {
        unsubscribe();
        res.end();
      }
    });

  // Handle client disconnect
  req.on('close', () => {
    unsubscribe();
  });
});
```

### 3.4 Database Schema Updates

**New Collections**:
```typescript
// ai-feedback - Stores all human feedback for learning
interface AIFeedbackDoc {
  // ... as defined above
}

// scraper-runs - Enhanced with progress tracking
interface ScraperRunDoc {
  id: string;
  type: 'discovery' | 'extraction';
  status: 'pending' | 'running' | 'completed' | 'failed' | 'cancelled';

  // Configuration
  config: {
    countries?: string[];
    platforms?: string[];
    mode?: string;
    maxQueries?: number;
    chainId?: string;
    venueId?: string;
  };

  // Progress
  progress: {
    current: number;
    total: number;
    percentage: number;
  };

  // Results
  results: {
    found: number;
    processed: number;
    errors: number;
  };

  // Cost tracking
  costs: {
    searchQueries: number;
    aiCalls: number;
    estimated: number;
  };

  // Timing
  startedAt: Date;
  completedAt?: Date;
  eta?: Date;

  // Error details
  errors?: {
    message: string;
    timestamp: Date;
    recoverable: boolean;
  }[];
}

// sync-history - Track all syncs to website
interface SyncHistoryDoc {
  id: string;
  executedAt: Date;
  executedBy: string;

  items: {
    additions: { venueIds: string[], dishIds: string[] };
    updates: { venueIds: string[], dishIds: string[] };
    removals: { venueIds: string[], dishIds: string[] };
  };

  stats: {
    venuesSynced: number;
    dishesSynced: number;
    errors: number;
  };

  errors?: {
    entityId: string;
    entityType: string;
    error: string;
  }[];
}

// budget-tracking - Daily cost tracking
interface BudgetTrackingDoc {
  date: string;  // YYYY-MM-DD

  costs: {
    searchQueries: { count: number, cost: number };
    aiCalls: { count: number, cost: number };
    scraping: { count: number, cost: number };
  };

  totals: {
    daily: number;
    monthToDate: number;
  };

  alerts?: {
    type: string;
    message: string;
    timestamp: Date;
  }[];
}
```

---

## Part 4: Implementation Phases

### Phase 1: Foundation (Week 1)
**Goal**: Set up new project structure with stability infrastructure

**Tasks**:
1. Create `admin-dashboard-v2` package with new structure
2. Set up Shadcn/UI + Tailwind
3. Implement error boundary system
4. Set up React Query with retry logic
5. Create base API client with:
   - Automatic token refresh
   - Request retries with exponential backoff
   - Offline detection
   - Request cancellation
6. Set up Zustand for local state
7. Create shared components (LoadingState, EmptyState, ErrorState)
8. Implement authentication flow
9. Create MainLayout with sidebar navigation

**Deliverables**:
- Working shell application with auth
- Error boundary catching all errors
- API client ready for use

---

### Phase 2: Backend API Extensions (Week 1-2)
**Goal**: Implement all new backend endpoints

**Tasks**:
1. **Workflow Stats API** (`/admin/stats/workflow`)
   - Aggregate metrics from multiple collections
   - Add caching layer

2. **Scraper Control APIs**
   - Start discovery/extraction endpoints
   - Progress streaming via SSE
   - Cancel endpoint with graceful shutdown

3. **Review APIs**
   - Hierarchical queue endpoint with pagination
   - Approve/reject with feedback
   - Bulk operations

4. **Feedback System**
   - Feedback submission endpoint
   - Background job for learning updates
   - Strategy recalculation

5. **Sync APIs**
   - Preview with diff calculation
   - Execute with transaction safety
   - History with pagination

6. **Analytics APIs**
   - KPI aggregation
   - Cost tracking
   - Rejection analysis

**Deliverables**:
- All new endpoints implemented
- Comprehensive error handling
- Integration tests for all endpoints

---

### Phase 3: Workflow Dashboard (Week 2)
**Goal**: Build main workflow dashboard

**Tasks**:
1. Workflow Dashboard page
   - Pipeline visualization
   - Quick action buttons
   - Running operations widget
   - Recent activity feed

2. Scrape Control page
   - Discovery trigger form
   - Extraction trigger form
   - Progress cards with SSE
   - Budget status display

**Deliverables**:
- Working dashboard with real data
- Scraper triggering functional
- Real-time progress updates

---

### Phase 4: Review Queue (Week 2-3)
**Goal**: Build the core review workflow

**Tasks**:
1. Review Queue page
   - Hierarchical tree navigation
   - Virtual scrolling for large lists
   - Venue detail panel
   - Dish grid with images

2. Approval workflow
   - Approve button with confirmation
   - Partial approve with feedback form
   - Reject with reason selection
   - Quick tag selection

3. Feedback integration
   - Free-text feedback input
   - Tag selection (wrong price, missing dish, etc.)
   - Confirmation of feedback recording

4. Keyboard shortcuts
   - j/k navigation
   - a/r/e quick actions
   - ? help modal

**Deliverables**:
- Full review workflow functional
- Feedback recording working
- Keyboard navigation complete

---

### Phase 5: Sync & Browser (Week 3)
**Goal**: Complete sync workflow and data browser

**Tasks**:
1. Sync to Website page
   - Preview with diff view
   - Selectable items
   - Execute sync with progress
   - Sync history

2. Venue Browser page
   - Hierarchical tree with status icons
   - Detail panel with all info
   - Filter by status (live/pending/rejected)
   - Search across all fields
   - Cursor-based pagination

3. Live Website view
   - Show only synced/live data
   - Quick stats

**Deliverables**:
- Sync workflow complete
- Browser with virtual scrolling
- Status filtering working

---

### Phase 6: Analytics & Polish (Week 3-4)
**Goal**: Add KPIs and final polish

**Tasks**:
1. KPI Dashboard
   - Metric cards
   - Cost breakdown chart
   - Accuracy trend chart
   - Rejection reasons pie chart

2. Cost Monitoring
   - Real-time budget tracking
   - Alert configuration
   - Historical cost view

3. Final polish
   - Loading states everywhere
   - Error recovery options
   - Toast notifications
   - Mobile responsiveness
   - Accessibility audit

**Deliverables**:
- Analytics dashboard complete
- All polish items done
- Ready for production

---

### Phase 7: Testing & Migration (Week 4)
**Goal**: Comprehensive testing and migration path

**Tasks**:
1. Unit tests for all hooks and utilities
2. Integration tests for API calls
3. E2E tests for critical workflows:
   - Login â†’ Review â†’ Approve â†’ Sync
   - Discovery trigger â†’ Progress â†’ Complete
   - Browser filtering and search

4. Migration plan:
   - Run v2 alongside v1 initially
   - Feature flag to switch users
   - Data migration (if any schema changes)
   - Gradual rollout

**Deliverables**:
- 80%+ test coverage
- All E2E scenarios passing
- Migration documentation

---

## Part 5: Parallel Work Streams (For Multiple Agents)

### Stream A: Frontend Infrastructure
- Project setup, Shadcn/UI, error boundaries
- Authentication, layout, routing
- Shared components library
- API client with retries

### Stream B: Backend APIs - Workflow
- `/admin/stats/workflow`
- `/admin/scrapers/*` (discovery, extraction, stream, cancel)
- `/admin/budget/status`
- Scraper run progress tracking

### Stream C: Backend APIs - Review
- `/admin/review/*` (queue, approve, partial, reject, bulk)
- `/admin/feedback/*` (submit, stats)
- Feedback collection and learning triggers
- Strategy update logic

### Stream D: Backend APIs - Sync & Analytics
- `/admin/sync/*` (preview, execute, history)
- `/admin/analytics/*` (kpis, costs, rejections)
- Sync history collection
- Budget tracking collection

### Stream E: Frontend - Workflow Pages
- WorkflowDashboard
- ScrapeControlPage
- Real-time progress components
- Budget status components

### Stream F: Frontend - Review Pages
- ReviewQueuePage
- Hierarchical tree component
- Approval workflow components
- Feedback form components
- Keyboard shortcuts

### Stream G: Frontend - Browser & Sync Pages
- VenueBrowserPage
- SyncToWebsitePage
- Virtual scrolling table
- Diff preview component

### Stream H: Frontend - Analytics
- KPI Dashboard
- Cost monitoring charts
- Rejection analysis
- Historical trends

---

## Part 6: Risk Mitigation

### Technical Risks

| Risk | Mitigation |
|------|------------|
| Large data loads crash browser | Virtual scrolling, cursor pagination, max limits |
| SSE connection drops | Auto-reconnect with exponential backoff |
| Sync fails midway | Transaction batching, rollback capability |
| AI feedback loop causes issues | Feature flag, manual override, rate limiting |
| Firebase quota exceeded | Budget alerts, automatic throttling |

### Operational Risks

| Risk | Mitigation |
|------|------------|
| Team unfamiliar with new stack | Documentation, pair programming sessions |
| V1 to V2 migration data loss | Run parallel, no destructive changes |
| Learning system goes wrong | Manual approval mode, feedback review |
| Cost overruns | Daily budget limits, alerts at 80% |

---

## Part 7: Success Metrics

| Metric | Current | Target |
|--------|---------|--------|
| Review throughput | ~10/hour | 30+/hour |
| Error rate | Unknown | <1% |
| Page load time | >3s | <1s |
| Time to approve venue | ~5 min | <1 min |
| System uptime | Variable | 99.9% |
| Test coverage | 0% | 80% |

---

## Appendix A: Component Specifications

### A.1 ReviewCard Component

```typescript
interface ReviewCardProps {
  venue: DiscoveredVenue;
  dishes: ExtractedDish[];
  isSelected: boolean;
  isExpanded: boolean;
  onSelect: () => void;
  onExpand: () => void;
  onApprove: () => void;
  onReject: (reason: string) => void;
  onPartialApprove: (feedback: FeedbackData) => void;
}
```

### A.2 HierarchyTree Component

```typescript
interface HierarchyTreeProps<T> {
  data: HierarchyNode<T>[];
  renderNode: (node: HierarchyNode<T>, depth: number) => ReactNode;
  onNodeSelect: (node: HierarchyNode<T>) => void;
  selectedId?: string;
  expandedIds: Set<string>;
  onToggleExpand: (id: string) => void;
  virtualScrolling?: boolean;
  itemHeight?: number;
}
```

### A.3 ScraperProgress Component

```typescript
interface ScraperProgressProps {
  runId: string;
  onComplete: (results: ScraperResults) => void;
  onCancel: () => void;
}
```

---

## Appendix B: API Response Examples

### B.1 Review Queue Response

```json
{
  "items": [
    {
      "id": "venue-123",
      "name": "Dean & David - ZÃ¼rich HB",
      "chain": { "id": "dean-david", "name": "Dean & David" },
      "country": "CH",
      "city": "ZÃ¼rich",
      "address": "Bahnhofplatz 15, 8001 ZÃ¼rich",
      "confidenceScore": 82,
      "confidenceFactors": [
        { "factor": "chain_match", "score": 30, "reason": "Known chain" },
        { "factor": "url_valid", "score": 25, "reason": "URL accessible" },
        { "factor": "menu_found", "score": 27, "reason": "Menu with Planted dishes" }
      ],
      "deliveryPlatforms": [
        { "platform": "uber-eats", "url": "https://...", "active": true }
      ],
      "dishes": [
        {
          "id": "dish-456",
          "name": "Planted Chicken Bowl",
          "price": { "amount": 18.90, "currency": "CHF" },
          "imageUrl": "https://...",
          "productMatch": "planted.chicken",
          "confidence": 95
        }
      ],
      "status": "discovered",
      "createdAt": "2024-01-15T10:30:00Z"
    }
  ],
  "hierarchy": {
    "countries": [
      {
        "code": "CH",
        "name": "Switzerland",
        "count": 12,
        "types": [
          {
            "type": "restaurant",
            "count": 8,
            "chains": [
              { "id": "dean-david", "name": "Dean & David", "count": 4 }
            ]
          }
        ]
      }
    ]
  },
  "stats": {
    "pending": 47,
    "verified": 234,
    "rejected": 23,
    "byCountry": { "CH": 12, "DE": 23, "AT": 12 }
  },
  "pagination": {
    "cursor": "abc123",
    "hasMore": true,
    "total": 47
  }
}
```

---

## Appendix C: Keyboard Shortcuts Reference

| Key | Action | Context |
|-----|--------|---------|
| `j` | Next item | Review queue |
| `k` | Previous item | Review queue |
| `a` | Approve current | Review queue |
| `r` | Reject current | Review queue |
| `e` | Edit current | Review queue |
| `p` | Partial approve | Review queue |
| `Enter` | Expand/collapse | Tree navigation |
| `Space` | Select/deselect | Multi-select |
| `Esc` | Close modal | Any modal |
| `?` | Show help | Global |
| `Ctrl+K` | Quick search | Global |
| `Ctrl+S` | Save changes | Edit mode |

---

## Summary

This plan provides a comprehensive roadmap for building Admin Dashboard 2.0 with:

1. **Workflow-first design** - Clear pipeline from scraping to website
2. **Reinforcement learning** - Every approval/rejection improves AI
3. **Extreme stability** - Error boundaries, retries, offline support
4. **Real-time operations** - SSE progress, live updates
5. **Browsable data** - Hierarchical browser with status visibility
6. **Cost visibility** - KPIs and budget tracking

The implementation is broken into 7 phases over ~4 weeks, with 8 parallel work streams suitable for multiple agents working simultaneously.
