---
// MeatLoverTicker.astro - Scrolling testimonials from meat lovers
interface Props {
    testimonials: Array<{
        text: string;
        author?: string;
    }>;
}

const { testimonials } = Astro.props;
---

<div class="meat-lover-ticker">
    <div class="ticker-track">
        {testimonials.map((testimonial, index) => (
            <>
                <div class="ticker-item">
                    <span class="ticker-quote">"{testimonial.text}"</span>
                    {testimonial.author && (
                        <span class="ticker-author">— {testimonial.author}</span>
                    )}
                </div>
                <span class="ticker-separator">•</span>
            </>
        ))}
        <!-- Duplicate for seamless loop -->
        {testimonials.map((testimonial, index) => (
            <>
                <div class="ticker-item">
                    <span class="ticker-quote">"{testimonial.text}"</span>
                    {testimonial.author && (
                        <span class="ticker-author">— {testimonial.author}</span>
                    )}
                </div>
                <span class="ticker-separator">•</span>
            </>
        ))}
    </div>
</div>

<style>
    /* More subtle ticker - smaller, muted colors, slower animation */
    .meat-lover-ticker {
        background: rgba(97, 38, 158, 0.05);
        border-bottom: 1px solid rgba(97, 38, 158, 0.08);
        overflow: hidden;
        padding: 8px 0;
        position: relative;
        width: 100%;
    }

    .meat-lover-ticker::before,
    .meat-lover-ticker::after {
        content: '';
        position: absolute;
        top: 0;
        bottom: 0;
        width: 80px;
        z-index: 2;
        pointer-events: none;
    }

    .meat-lover-ticker::before {
        left: 0;
        background: linear-gradient(to right, var(--planted-cream), transparent);
    }

    .meat-lover-ticker::after {
        right: 0;
        background: linear-gradient(to left, var(--planted-cream), transparent);
    }

    .ticker-track {
        display: flex;
        gap: 0;
        animation: tickerScroll 60s linear infinite;
        will-change: transform;
    }

    @keyframes tickerScroll {
        0% {
            transform: translateX(0);
        }
        100% {
            transform: translateX(-50%);
        }
    }

    .ticker-item {
        flex-shrink: 0;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        white-space: nowrap;
        color: var(--planted-charcoal);
        opacity: 0.6;
    }

    .ticker-quote {
        font-size: 0.8rem;
        font-weight: 500;
        font-style: italic;
    }

    .ticker-author {
        font-size: 0.75rem;
        opacity: 0.7;
        font-weight: 600;
        color: var(--planted-purple);
    }

    .ticker-separator {
        color: var(--planted-purple);
        opacity: 0.3;
        font-size: 0.75rem;
        padding: 0 20px;
        flex-shrink: 0;
    }

    /* Pause on hover for better readability */
    .meat-lover-ticker:hover .ticker-track {
        animation-play-state: paused;
    }

    .meat-lover-ticker:hover .ticker-item {
        opacity: 0.9;
    }

    @media (max-width: 640px) {
        .ticker-quote {
            font-size: 0.85rem;
        }
        .ticker-author {
            font-size: 0.75rem;
        }
        .ticker-separator {
            padding: 0 16px;
        }
    }
</style>
