---
import Layout from '../../layouts/Layout.astro';
import { allLocales, locales, type LocaleCode } from '../../i18n/config';
import { getTranslations } from '../../i18n/index';
import { getCollection } from 'astro:content';

export async function getStaticPaths() {
    return allLocales.map((locale) => ({
        params: { locale },
        props: { locale },
    }));
}

const { locale } = Astro.props as { locale: LocaleCode };
const base = import.meta.env.BASE_URL;
const t = getTranslations(locale);
const localeData = locales[locale];

// Get actual news items from content collection
const allNews = await getCollection('news');
const sortedNews = allNews
    .sort((a, b) => new Date(b.data.date).getTime() - new Date(a.data.date).getTime())
    .slice(0, 6);

// Company facts - translated
const companyFacts = [
    { label: t.press?.facts?.founded || 'Founded', value: '2019' },
    { label: t.press?.facts?.headquarters || 'Headquarters', value: 'Kemptthal, Switzerland' },
    { label: t.press?.facts?.employees || 'Employees', value: '200+' },
    { label: t.press?.facts?.markets || 'Markets', value: '8' },
    { label: t.press?.facts?.productsCount || 'Products', value: '20+' },
    { label: t.press?.facts?.restaurantPartners || 'Restaurant Partners', value: '8,000+' },
];
---

<Layout title={`${t.press?.pageTitle || 'Press & Media'} â€“ Planted`} description={t.press?.hero?.subtitle || 'Press resources, media kit, and contact information for journalists covering Planted.'} currentPage="press" locale={locale}>
    <section class="hero">
        <span class="badge">{t.press?.hero?.badge || 'Press & Media'}</span>
        <h1>{t.press?.hero?.title || 'News from Planted'}</h1>
        <p>{t.press?.hero?.subtitle || 'Resources for journalists and media professionals.'}</p>
    </section>

    <section class="press-contact">
        <div class="contact-card reveal">
            <div class="contact-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                    <polyline points="22,6 12,13 2,6"/>
                </svg>
            </div>
            <div class="contact-info">
                <h2>{t.press?.contact?.title || 'Press Contact'}</h2>
                <p>{t.press?.contact?.subtitle || 'For press inquiries, interview requests, and media opportunities:'}</p>
                <a href="mailto:press@eatplanted.com" class="contact-email">press@eatplanted.com</a>
            </div>
        </div>
    </section>

    <section class="company-facts">
        <div class="section-header">
            <h2 class="reveal">{t.press?.facts?.title || 'Company at a Glance'}</h2>
        </div>
        <div class="facts-grid">
            {companyFacts.map((fact) => (
                <div class="fact-card reveal-scale">
                    <div class="fact-value">{fact.value}</div>
                    <div class="fact-label">{fact.label}</div>
                </div>
            ))}
        </div>
    </section>

    <section class="media-kit">
        <div class="section-header">
            <h2 class="reveal">{t.press?.resources?.title || 'Media Resources'}</h2>
            <p class="reveal">{t.press?.resources?.subtitle || 'Download official brand assets and materials.'}</p>
        </div>
        <div class="resources-grid">
            <div class="resource-card reveal">
                <div class="resource-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                        <circle cx="8.5" cy="8.5" r="1.5"/>
                        <polyline points="21 15 16 10 5 21"/>
                    </svg>
                </div>
                <h3>{t.press?.resources?.logos || 'Logo Package'}</h3>
                <p>{t.press?.resources?.logosDesc || 'Official Planted logos in various formats (SVG, PNG, EPS) for print and digital use.'}</p>
                <span class="resource-note">{t.press?.resources?.contact || 'Contact press@eatplanted.com'}</span>
            </div>
            <div class="resource-card reveal">
                <div class="resource-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                        <polyline points="14 2 14 8 20 8"/>
                        <line x1="16" y1="13" x2="8" y2="13"/>
                        <line x1="16" y1="17" x2="8" y2="17"/>
                        <polyline points="10 9 9 9 8 9"/>
                    </svg>
                </div>
                <h3>{t.press?.resources?.brand || 'Brand Guidelines'}</h3>
                <p>{t.press?.resources?.brandDesc || 'Complete brand style guide including colors, typography, and usage guidelines.'}</p>
                <span class="resource-note">{t.press?.resources?.contact || 'Contact press@eatplanted.com'}</span>
            </div>
            <div class="resource-card reveal">
                <div class="resource-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/>
                        <circle cx="12" cy="13" r="4"/>
                    </svg>
                </div>
                <h3>{t.press?.resources?.images || 'Product Images'}</h3>
                <p>{t.press?.resources?.imagesDesc || 'High-resolution product photography, packaging shots, and lifestyle images.'}</p>
                <span class="resource-note">{t.press?.resources?.contact || 'Contact press@eatplanted.com'}</span>
            </div>
            <div class="resource-card reveal">
                <div class="resource-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polygon points="23 7 16 12 23 17 23 7"/>
                        <rect x="1" y="5" width="15" height="14" rx="2" ry="2"/>
                    </svg>
                </div>
                <h3>{t.press?.resources?.video || 'Video Content'}</h3>
                <p>{t.press?.resources?.videoDesc || 'B-roll footage, product videos, and behind-the-scenes content.'}</p>
                <span class="resource-note">{t.press?.resources?.contact || 'Contact press@eatplanted.com'}</span>
            </div>
            <div class="resource-card reveal">
                <div class="resource-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
                    </svg>
                </div>
                <h3>{t.press?.resources?.bios || 'Executive Bios'}</h3>
                <p>{t.press?.resources?.biosDesc || 'Biographies and headshots of Planted leadership and founders.'}</p>
                <span class="resource-note">{t.press?.resources?.contact || 'Contact press@eatplanted.com'}</span>
            </div>
            <div class="resource-card reveal">
                <div class="resource-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="20" x2="18" y2="10"/>
                        <line x1="12" y1="20" x2="12" y2="4"/>
                        <line x1="6" y1="20" x2="6" y2="14"/>
                    </svg>
                </div>
                <h3>{t.press?.resources?.data || 'Sustainability Data'}</h3>
                <p>{t.press?.resources?.dataDesc || 'LCA reports, environmental impact data, and sustainability credentials.'}</p>
                <span class="resource-note">{t.press?.resources?.contact || 'Contact press@eatplanted.com'}</span>
            </div>
        </div>
    </section>

    <section class="press-releases">
        <div class="section-header">
            <h2 class="reveal">{t.press?.news?.title || 'Recent News'}</h2>
            <p class="reveal">{t.press?.news?.subtitle || 'Latest announcements and company updates.'}</p>
        </div>
        <div class="releases-list">
            {sortedNews.map((news) => (
                <a href={`${base}/${locale}/news/${news.data.slug}`} class="release-item reveal">
                    <div class="release-date">
                        {new Date(news.data.date).toLocaleDateString(localeData.language === 'de' ? 'de-DE' : localeData.language === 'fr' ? 'fr-FR' : localeData.language === 'it' ? 'it-IT' : localeData.language === 'nl' ? 'nl-NL' : localeData.language === 'es' ? 'es-ES' : 'en-GB', { month: 'long', year: 'numeric' })}
                    </div>
                    <div class="release-content">
                        <h3>{news.data.title}</h3>
                        <p>{news.data.excerpt}</p>
                    </div>
                    <div class="release-arrow">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M5 12h14M12 5l7 7-7 7"/>
                        </svg>
                    </div>
                </a>
            ))}
        </div>
        <div class="releases-cta reveal">
            <a href={`${base}/${locale}/news`} class="btn btn-purple">
                {t.press?.news?.viewAll || 'View All News'}
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                    <path d="M5 12h14M12 5l7 7-7 7"/>
                </svg>
            </a>
        </div>
    </section>

    <section class="about-planted">
        <div class="about-content reveal">
            <h2>{t.press?.about?.title || 'About Planted'}</h2>
            <p>
                {t.press?.about?.description1 || 'Planted is a Swiss food technology company revolutionizing the way we think about meat. Founded in 2019 in Zurich, the company creates plant-based meat products using innovative fermentation technology and simple, recognizable ingredients. Planted\'s products are sold in major retailers across Europe and served in over 8,000 restaurants.'}
            </p>
            <p>
                {t.press?.about?.description2 || 'The company is B Corp certified, committed to the highest standards of social and environmental performance. Planted\'s mission is to make delicious, sustainable food accessible to everyone, proving that great taste and environmental responsibility can go hand in hand.'}
            </p>
            <div class="boilerplate-note">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"/>
                    <line x1="12" y1="16" x2="12" y2="12"/>
                    <line x1="12" y1="8" x2="12.01" y2="8"/>
                </svg>
                <span>{t.press?.about?.boilerplate || 'This boilerplate text can be used in press materials.'}</span>
            </div>
        </div>
    </section>

    <section class="social-section">
        <div class="section-header">
            <h2 class="reveal">{t.press?.social?.title || 'Follow Planted'}</h2>
        </div>
        <div class="social-links reveal">
            <a href="https://www.instagram.com/eatplanted/" target="_blank" rel="noopener" class="social-link">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="2" y="2" width="20" height="20" rx="5"/>
                    <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/>
                    <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"/>
                </svg>
                <span>Instagram</span>
            </a>
            <a href="https://www.linkedin.com/company/eatplanted/" target="_blank" rel="noopener" class="social-link">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"/>
                    <rect x="2" y="9" width="4" height="12"/>
                    <circle cx="4" cy="4" r="2"/>
                </svg>
                <span>LinkedIn</span>
            </a>
            <a href="https://www.youtube.com/@eatplanted" target="_blank" rel="noopener" class="social-link">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"/>
                    <polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"/>
                </svg>
                <span>YouTube</span>
            </a>
            <a href="https://www.facebook.com/eatplanted" target="_blank" rel="noopener" class="social-link">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/>
                </svg>
                <span>Facebook</span>
            </a>
        </div>
    </section>
</Layout>

<style>
    .hero {
        padding: 8rem 1.5rem 3rem;
        text-align: center;
        max-width: 700px;
        margin: 0 auto;
    }

    .badge {
        display: inline-block;
        background: var(--planted-purple);
        color: white;
        font-size: 0.75rem;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        padding: 0.5rem 1rem;
        border-radius: 100px;
        margin-bottom: 1.5rem;
    }

    .hero h1 {
        font-size: clamp(2.5rem, 8vw, 4rem);
        color: var(--planted-purple);
        margin-bottom: 1rem;
        line-height: 1.05;
    }

    .hero p {
        font-size: 1.2rem;
        opacity: 0.7;
    }

    .section-header {
        text-align: center;
        margin-bottom: 2.5rem;
    }

    .section-header h2 {
        font-size: clamp(1.8rem, 5vw, 2.5rem);
        color: var(--planted-purple);
        margin-bottom: 0.5rem;
    }

    .section-header p {
        opacity: 0.7;
        max-width: 500px;
        margin: 0 auto;
    }

    /* Press Contact */
    .press-contact {
        padding: 2rem 1.5rem 4rem;
    }

    .contact-card {
        max-width: 600px;
        margin: 0 auto;
        background: var(--planted-purple);
        color: white;
        padding: 2.5rem;
        border-radius: 1.5rem;
        display: flex;
        gap: 2rem;
        align-items: center;
    }

    .contact-icon {
        width: 60px;
        height: 60px;
        background: rgba(255,255,255,0.15);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
    }

    .contact-icon svg {
        width: 28px;
        height: 28px;
    }

    .contact-info h2 {
        font-size: 1.3rem;
        margin-bottom: 0.5rem;
    }

    .contact-info p {
        opacity: 0.85;
        margin-bottom: 1rem;
        font-size: 0.95rem;
    }

    .contact-email {
        display: inline-block;
        background: var(--planted-green);
        color: var(--planted-purple);
        padding: 0.75rem 1.5rem;
        border-radius: 100px;
        font-weight: 700;
        text-decoration: none;
        transition: transform 0.3s;
    }

    .contact-email:hover {
        transform: translateY(-2px);
    }

    /* Company Facts */
    .company-facts {
        background: var(--planted-cream);
        padding: 4rem 1.5rem;
    }

    .facts-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 1.5rem;
        max-width: 900px;
        margin: 0 auto;
    }

    .fact-card {
        background: white;
        padding: 1.5rem;
        border-radius: 1rem;
        text-align: center;
        box-shadow: 0 4px 15px rgba(0,0,0,0.04);
    }

    .fact-value {
        font-family: 'VC Henrietta', serif;
        font-size: 1.8rem;
        color: var(--planted-purple);
        margin-bottom: 0.25rem;
    }

    .fact-label {
        font-size: 0.85rem;
        opacity: 0.7;
    }

    /* Media Kit */
    .media-kit {
        padding: 4rem 1.5rem;
    }

    .resources-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 1.5rem;
        max-width: 1000px;
        margin: 0 auto;
    }

    .resource-card {
        background: white;
        border: 2px solid var(--planted-cream);
        padding: 2rem;
        border-radius: 1.25rem;
        transition: border-color 0.3s, transform 0.3s;
    }

    .resource-card:hover {
        border-color: var(--planted-purple);
        transform: translateY(-4px);
    }

    .resource-icon {
        width: 50px;
        height: 50px;
        background: var(--planted-cream);
        border-radius: 0.75rem;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 1rem;
    }

    .resource-icon svg {
        width: 24px;
        height: 24px;
        color: var(--planted-purple);
    }

    .resource-card h3 {
        font-family: 'VC Henrietta', serif;
        color: var(--planted-purple);
        margin-bottom: 0.5rem;
    }

    .resource-card p {
        font-size: 0.9rem;
        opacity: 0.7;
        line-height: 1.6;
        margin-bottom: 1rem;
    }

    .resource-note {
        font-size: 0.8rem;
        color: var(--planted-purple);
        font-weight: 600;
    }

    /* Press Releases */
    .press-releases {
        background: var(--planted-cream);
        padding: 4rem 1.5rem;
    }

    .releases-list {
        max-width: 800px;
        margin: 0 auto 2rem;
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }

    .release-item {
        background: white;
        padding: 1.5rem 2rem;
        border-radius: 1rem;
        display: flex;
        gap: 1.5rem;
        align-items: center;
        text-decoration: none;
        color: inherit;
        transition: transform 0.3s, box-shadow 0.3s;
    }

    .release-item:hover {
        transform: translateY(-4px);
        box-shadow: 0 8px 24px rgba(0,0,0,0.08);
    }

    .release-item:hover .release-arrow {
        transform: translateX(4px);
    }

    .release-date {
        font-size: 0.8rem;
        font-weight: 700;
        color: var(--planted-purple);
        background: var(--planted-cream);
        padding: 0.35rem 0.75rem;
        border-radius: 100px;
        white-space: nowrap;
        flex-shrink: 0;
    }

    .release-content {
        flex: 1;
    }

    .release-content h3 {
        font-family: 'VC Henrietta', serif;
        font-size: 1.1rem;
        color: var(--planted-purple);
        margin-bottom: 0.35rem;
    }

    .release-content p {
        font-size: 0.9rem;
        opacity: 0.7;
        line-height: 1.5;
        margin: 0;
    }

    .release-arrow {
        width: 32px;
        height: 32px;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        transition: transform 0.3s;
    }

    .release-arrow svg {
        width: 20px;
        height: 20px;
        color: var(--planted-purple);
    }

    .releases-cta {
        text-align: center;
    }

    .btn-purple {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        background: var(--planted-purple);
        color: white;
        padding: 1rem 2rem;
        border-radius: 100px;
        font-weight: 700;
        text-decoration: none;
        transition: transform 0.3s, box-shadow 0.3s;
    }

    .btn-purple:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 24px rgba(97, 38, 158, 0.3);
    }

    .btn-purple svg {
        width: 18px;
        height: 18px;
    }

    /* About Planted */
    .about-planted {
        padding: 4rem 1.5rem;
    }

    .about-content {
        max-width: 700px;
        margin: 0 auto;
    }

    .about-content h2 {
        font-family: 'VC Henrietta', serif;
        font-size: 1.8rem;
        color: var(--planted-purple);
        margin-bottom: 1.5rem;
    }

    .about-content p {
        line-height: 1.8;
        margin-bottom: 1rem;
        opacity: 0.85;
    }

    .boilerplate-note {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        margin-top: 1.5rem;
        padding: 1rem;
        background: var(--planted-cream);
        border-radius: 0.75rem;
        font-size: 0.85rem;
        opacity: 0.7;
    }

    .boilerplate-note svg {
        width: 18px;
        height: 18px;
        flex-shrink: 0;
        color: var(--planted-purple);
    }

    /* Social Section */
    .social-section {
        background: var(--planted-purple);
        padding: 4rem 1.5rem;
        color: white;
    }

    .social-section .section-header h2 {
        color: white;
    }

    .social-links {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 1rem;
    }

    .social-link {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        background: rgba(255,255,255,0.1);
        border: 2px solid rgba(255,255,255,0.2);
        padding: 1rem 1.5rem;
        border-radius: 100px;
        color: white;
        text-decoration: none;
        font-weight: 600;
        transition: all 0.3s;
    }

    .social-link:hover {
        background: rgba(255,255,255,0.2);
        border-color: rgba(255,255,255,0.4);
        transform: translateY(-2px);
    }

    .social-link svg {
        width: 22px;
        height: 22px;
    }

    @media (max-width: 600px) {
        .contact-card {
            flex-direction: column;
            text-align: center;
        }

        .release-item {
            flex-direction: column;
            gap: 0.75rem;
            align-items: flex-start;
        }

        .release-arrow {
            display: none;
        }
    }

    @media (min-width: 768px) {
        .hero {
            padding: 10rem 2rem 4rem;
        }
    }
</style>
